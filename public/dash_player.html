<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Player Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script> 
  
   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function(){
      
$("#setting").click(function () {
  
    let emailid = $("#emailid").val().trim();
    let pwd = $("#pwd").val().trim();
    let pwdsetnew=$("#pwdsetnew").val().trim();
   

    let obj = {
        type: "get",
        url: "/update-password",
        data: {
            emailid: emailid,
            pwd: pwd,
            pwdsetnew:pwdsetnew
           
        } 
    };

    $.ajax(obj).then(
        function (response) {
            alert(response);  // Success message from Node.js
        },
        function (err) {
            alert("Error: " + err.message);
        }
    );
});

    })
    function showUser(){
      let activeUser =localStorage.getter("activeUser");
      document.getElementById("Players").innerHTML=activeUser;

    }
    function dologout(){
      localStorage.removeItem("activeUser");
      location.href="index.html";


    }
  </script>
  <style>

    .dashboard-card {
      width: 15rem;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      background-color: #fff;
      transition: transform 0.2s;
    }

    .dashboard-card:hover {
      transform: scale(1.03);
    }

    .dashboard-card img {
      height: 120px;
      object-fit: contain;
      background-color: white;
      padding: 10px;
      border-radius: 10px 10px 0 0;
    }

    body {
      background-color: #f5f5f5;
    }
        .form_style {
      max-width: 500px;
      margin: 40px auto;
      border-style: ridge;
      padding: 50px;
    }
    .dashboard-card {
      width: 18rem;
      margin: 40px auto;
    }

  </style>
</head>
<body onload="showUser()">

  <div class="container text-center my-5">
    <h3 class="mb-4">Welcome to Your Player Dashboard</h3>
    <div class="d-flex justify-content-center flex-wrap gap-4">
      
      <!-- Profile Card -->
      <div class="card dashboard-card">
        <img src="/pics/pp.webp" class="card-img-top" alt="My Profile">
        <div class="card-body">
          <h5 class="card-title">My Profile</h5>
          <a href="./player_profile.html" class="btn btn-dark btn-sm">View Profile</a>
        </div>
      </div>

      <!-- Tournaments Card -->
      <div class="card dashboard-card">
        <img src="/pics/tournamnet.png" class="card-img-top" alt="Tournaments">
        <div class="card-body">
          <h5 class="card-title">Tournaments</h5>
          <a href="./tournament_manager.html" class="btn btn-dark btn-sm">Explore Tournaments</a>
        </div>
      </div>

      <!-- Settings Card -->
      <div class="card dashboard-card">
        <img src="/pics/setting.png" class="card-img-top" alt="Settings">
        <div class="card-body">
          <h5 class="card-title">Settings</h5>
         <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#editSettingsModal">
  Edit Settings
</button>
</div>
</div>
 <!-- Modal -->
  <div class="modal fade" id="editSettingsModal" tabindex="-1" aria-labelledby="editSettingsLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="editSettingsLabel">Edit Settings</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <form class="row g-3 form_style">
            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Email Id </label>
              <input type="email" class="form-control" id="emailid" aria-describedby="emailHelp">
              <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
            </div>

            <div class="mb-3">
              <label for="exampleInputPassword1" class="form-label"> Old Password</label>
              <input type="password" class="form-control" id="pwd">
            </div>
             <div class="mb-3">
              <label for="exampleInputPassword1" class="form-label"> new Password</label>
              <input type="password" class="form-control" id="pwdsetnew">
            </div>

            <div class="mb-3 form-check">
              <input type="checkbox" class="form-check-input" id="exampleCheck1">
              <label class="form-check-label" for="exampleCheck1">Check me out</label>
            </div>

            <input type="button" class="btn btn-primary" id="setting" value="Update Paaword">
          </form>
        </div>

      </div>
    </div>
  </div>

       

      <!-- Logout Card -->
      <div class="card dashboard-card">
        <img src="/pics/logout.jpeg" class="card-img-top" alt="Logout">
        <div class="card-body">
        <h5 class="card-title">Logout</h5>
        <a href="#" class="btn btn-dark btn-sm" onclick="dologout();">Log Out</a>
        </div>
      </div>

    </div>
  </div>

</body>
</html>

